:local IP = 1.2.3.4
:local status = 'connected'
:local counter = 0

while (($counter < 10)

      ping IP
      if exit code > 0:
            counter = counter + 1
            wait 1 min
      
      elif counter = 5:
            status = suspicious
            send email with status
            
      
      elif counter = 10:
            status = 'disconnected'
            send sms with status
            reboot
      
      else:
        counter = 0
        wait 1 min
      
      
